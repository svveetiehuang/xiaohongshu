{"ast":null,"code":"var _jsxFileName = \"/Users/svveetie/Downloads/h \\u524D\\u7AEF/xhs/src/pages/discovery/components/ShareBar.js\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { actionCreators } from '../store';\nimport { BarWrapper, AuthorInfo, MiddleBorder, ShareButton, Icons, WechatCode } from '../style'; // 详情页\n\nclass ShareBar extends PureComponent {\n  render() {\n    return React.createElement(BarWrapper, {\n      className: this.props.fixed ? 'fixed' : '',\n      ref: \"shareBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(AuthorInfo, {\n      href: this.props.profile,\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"author-img\",\n      src: this.props.authorImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"img-border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"author-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, this.props.authorName)), React.createElement(MiddleBorder, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(ShareButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"\\u4E00\\u8D77\\u6765\\u5206\\u4EAB\\u7ED9\\u670B\\u53CB\\u4EEC\\u770B\\u770B\\u5427\\uFF1A\"), React.createElement(Icons, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"wechat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(WechatCode, {\n      className: \"wechat-code\",\n      style: {\n        background: '#fff url(' + this.props.wechatCode + ') no-repeat top center/contain'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"\\u5206\\u4EAB\\u81F3\\u5FAE\\u4FE1\"))), React.createElement(\"i\", {\n      className: \"weibo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"qq\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }))));\n  }\n\n  componentDidMount() {\n    // 在组件第一次挂载完毕时调用\n    this.bindEvents();\n    top = this.refs.shareBar.offsetTop;\n  }\n\n  bindEvents() {\n    window.addEventListener('scroll', this.props.toggleShareBarFixed);\n  }\n\n}\n\nvar top = 0;\n\nconst mapState = state => ({\n  fixed: state.getIn(['discovery', 'fixed']),\n  authorImg: state.getIn(['discovery', 'authorImg']),\n  authorName: state.getIn(['discovery', 'authorName']),\n  profile: state.getIn(['discovery', 'profile']),\n  wechatCode: state.getIn(['discovery', 'wechatCode'])\n});\n\nconst mapDispatch = dispatch => ({\n  toggleShareBarFixed() {\n    // console.log(document.documentElement.scrollTop)\n    console.log(top);\n\n    if (document.documentElement.scrollTop < top) {\n      dispatch(actionCreators.toggleShareBarFixed(true));\n    } else {\n      dispatch(actionCreators.toggleShareBarFixed(false));\n    }\n  }\n\n});\n\nexport default connect(mapState, mapDispatch)(ShareBar);","map":{"version":3,"sources":["/Users/svveetie/Downloads/h 前端/xhs/src/pages/discovery/components/ShareBar.js"],"names":["React","PureComponent","connect","actionCreators","BarWrapper","AuthorInfo","MiddleBorder","ShareButton","Icons","WechatCode","ShareBar","render","props","fixed","profile","authorImg","authorName","background","wechatCode","componentDidMount","bindEvents","top","refs","shareBar","offsetTop","window","addEventListener","toggleShareBarFixed","mapState","state","getIn","mapDispatch","dispatch","console","log","document","documentElement","scrollTop"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { actionCreators } from '../store'\nimport {\n  BarWrapper,\n  AuthorInfo,\n  MiddleBorder,\n  ShareButton,\n  Icons,\n  WechatCode\n} from '../style'\n\n// 详情页\nclass ShareBar extends PureComponent {\n  render () {\n    return (\n      <BarWrapper className={this.props.fixed ? 'fixed' : ''} ref='shareBar'>\n        <AuthorInfo href={this.props.profile} target='_blank'>\n          <img alt='' className='author-img' src={this.props.authorImg} />\n          <i className='img-border' />\n          <span className='author-name'>{this.props.authorName}</span>\n        </AuthorInfo>\n        <MiddleBorder />\n        <ShareButton>\n          <span className='share'>一起来分享给朋友们看看吧：</span>\n          <Icons>\n            <i className='wechat'>\n              <WechatCode\n                className='wechat-code'\n                style={{\n                  background:\n                    '#fff url(' +\n                    this.props.wechatCode +\n                    ') no-repeat top center/contain'\n                }}\n              >\n                <p>分享至微信</p>\n              </WechatCode>\n            </i>\n            <i className='weibo' />\n            <i className='qq' />\n          </Icons>\n        </ShareButton>\n      </BarWrapper>\n    )\n  }\n\n  componentDidMount () {\n    // 在组件第一次挂载完毕时调用\n    this.bindEvents()\n    top = this.refs.shareBar.offsetTop\n  }\n\n  bindEvents () {\n    window.addEventListener('scroll', this.props.toggleShareBarFixed)\n  }\n}\n\nvar top = 0\nconst mapState = state => ({\n  fixed: state.getIn(['discovery', 'fixed']),\n  authorImg: state.getIn(['discovery', 'authorImg']),\n  authorName: state.getIn(['discovery', 'authorName']),\n  profile: state.getIn(['discovery', 'profile']),\n  wechatCode: state.getIn(['discovery', 'wechatCode'])\n})\n\nconst mapDispatch = dispatch => ({\n  toggleShareBarFixed () {\n    // console.log(document.documentElement.scrollTop)\n    console.log(top)\n    if (document.documentElement.scrollTop < top) {\n      dispatch(actionCreators.toggleShareBarFixed(true))\n    } else {\n      dispatch(actionCreators.toggleShareBarFixed(false))\n    }\n  }\n})\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(ShareBar)\n"]},"metadata":{},"sourceType":"module"}