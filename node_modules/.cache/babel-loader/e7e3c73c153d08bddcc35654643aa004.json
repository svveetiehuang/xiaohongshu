{"ast":null,"code":"var _jsxFileName = \"/Users/svveetie/Downloads/h \\u524D\\u7AEF/xhs/src/pages/discovery/components/ShareBar.js\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { actionCreators } from '../store';\nimport { BarWrapper, AuthorInfo, MiddleBorder, ShareButton, Icons, WechatCode } from '../style'; // 详情页\n\nclass ShareBar extends PureComponent {\n  render() {\n    return React.createElement(BarWrapper, {\n      className: this.props.fixed ? 'fixed' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(AuthorInfo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      className: \"author-img\",\n      src: this.props.authorImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"img-border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"author-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, this.props.authorName)), React.createElement(MiddleBorder, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(ShareButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"\\u4E00\\u8D77\\u6765\\u5206\\u4EAB\\u7ED9\\u670B\\u53CB\\u4EEC\\u770B\\u770B\\u5427\\uFF1A\"), React.createElement(Icons, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"wechat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(WechatCode, {\n      className: \"wechat-code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, \"\\u5206\\u4EAB\\u81F3\\u5FAE\\u4FE1\"))), React.createElement(\"i\", {\n      className: \"weibo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"qq\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }))));\n  }\n\n  componentDidMount() {\n    // 在组件第一次挂载完毕时调用\n    this.bindEvents();\n    this.props.getAuthorData();\n  }\n\n  bindEvents() {\n    window.addEventListener('scroll', this.props.toggleShareBarFixed);\n  }\n\n}\n\nconst mapState = state => ({\n  fixed: state.getIn(['discovery', 'fixed']),\n  authorImg: state.getIn(['discovery', 'authorImg']),\n  authorName: state.getIn(['discovery', 'authorName'])\n});\n\nconst mapDispatch = dispatch => ({\n  toggleShareBarFixed() {\n    // console.log(document.documentElement.scrollTop)\n    if (document.documentElement.scrollTop < 460) {\n      dispatch(actionCreators.toggleShareBarFixed(true));\n    } else {\n      dispatch(actionCreators.toggleShareBarFixed(false));\n    }\n  },\n\n  getAuthorData() {\n    dispatch(actionCreators.getAuthorData());\n  }\n\n});\n\nexport default connect(mapState, mapDispatch)(ShareBar);","map":{"version":3,"sources":["/Users/svveetie/Downloads/h 前端/xhs/src/pages/discovery/components/ShareBar.js"],"names":["React","PureComponent","connect","actionCreators","BarWrapper","AuthorInfo","MiddleBorder","ShareButton","Icons","WechatCode","ShareBar","render","props","fixed","authorImg","authorName","componentDidMount","bindEvents","getAuthorData","window","addEventListener","toggleShareBarFixed","mapState","state","getIn","mapDispatch","dispatch","document","documentElement","scrollTop"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { actionCreators } from '../store'\nimport {\n  BarWrapper,\n  AuthorInfo,\n  MiddleBorder,\n  ShareButton,\n  Icons,\n  WechatCode\n} from '../style'\n\n// 详情页\nclass ShareBar extends PureComponent {\n  render () {\n    return (\n      <BarWrapper className={this.props.fixed ? 'fixed' : ''}>\n        <AuthorInfo>\n          <img alt='' className='author-img' src={this.props.authorImg} />\n          <i className='img-border' />\n          <span className='author-name'>{this.props.authorName}</span>\n        </AuthorInfo>\n        <MiddleBorder />\n        <ShareButton>\n          <span className='share'>一起来分享给朋友们看看吧：</span>\n          <Icons>\n            <i className='wechat'>\n              <WechatCode className='wechat-code'>\n                <p>分享至微信</p>\n              </WechatCode>\n            </i>\n            <i className='weibo' />\n            <i className='qq' />\n          </Icons>\n        </ShareButton>\n      </BarWrapper>\n    )\n  }\n\n  componentDidMount () {\n    // 在组件第一次挂载完毕时调用\n    this.bindEvents()\n    this.props.getAuthorData()\n  }\n\n  bindEvents () {\n    window.addEventListener('scroll', this.props.toggleShareBarFixed)\n  }\n}\n\nconst mapState = state => ({\n  fixed: state.getIn(['discovery', 'fixed']),\n  authorImg: state.getIn(['discovery', 'authorImg']),\n  authorName: state.getIn(['discovery', 'authorName'])\n})\n\nconst mapDispatch = dispatch => ({\n  toggleShareBarFixed () {\n    // console.log(document.documentElement.scrollTop)\n    if (document.documentElement.scrollTop < 460) {\n      dispatch(actionCreators.toggleShareBarFixed(true))\n    } else {\n      dispatch(actionCreators.toggleShareBarFixed(false))\n    }\n  },\n  getAuthorData () {\n    dispatch(actionCreators.getAuthorData())\n  }\n})\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(ShareBar)\n"]},"metadata":{},"sourceType":"module"}